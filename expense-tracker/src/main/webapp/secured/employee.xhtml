<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xml:lang="en" lang="en">

    <h:head>
        <title>Employee</title>
    </h:head>
    <h:body>

        <ui:composition template="/resources/template/layout.xhtml">
            <ui:define name="content">
                <!-- Title --> 
                <h:form>
                    <h:messages id="error-messages" />
                    <h:outputLabel value="Username:" for="username" />
                    <div>
                        <h:inputText value="#{employeeController.username}" label="Username" id="username" disabled="#{not employeeController.newEmployee}"/>
                    </div>

                    <h:outputLabel value="Roles:" for="roles"/>
                    <div>
                        <h:selectManyListbox value="#{employeeController.roles}" label="Roles" id="roles" disabled="#{not idm.hasRole(ADMIN)}"/>
                    </div>

                    <h:outputLabel value="Password:" for="password"/>
                    <div>
                        <h:inputSecret value="#{employeeController.password}" label="Password" id="password"/>
                    </div>

                    <h:outputLabel value="Password confirmation:" for="passwordConfirmation"/>
                    <div>
                        <h:inputSecret value="#{employeeController.passwordConfirmation}" label="Password Confirmation" id="passwordConfirmation"/>
                    </div>

                    <h:commandButton action="#{employeeController.changePassword()}" rendered="#{not employeeController.newEmployee}" value="Change password" />

                    <div>
                        <h:outputLabel value="First name:" for="firstName"/>
                        <div>
                            <h:inputText value="#{employeeController.selected.firstName}" label="First name" id="firstName"/>
                        </div>
                    </div>
                    <div>
                        <h:outputLabel value="Last name:" for="lastName"/>
                        <div>
                            <h:inputText value="#{employeeController.selected.lastName}" label="Last name" id="lastName"/>
                        </div>
                    </div>
                    <div>
                        <h:outputLabel value="Bank account:" for="bankAccount"/>
                        <div>
                            <h:inputText value="#{employeeController.selected.bankAccount}" label="Bank account" id="bankAccount"/>
                        </div>
                    </div>
                    <div>
                        <h:outputLabel value="Email:" for="email"/>
                        <div>
                            <h:inputText value="#{employeeController.selected.email}" label="Email" id="email"/>
                        </div>
                    </div>
                    <div>
                        <div>
                            <h:commandButton value="Save" action="#{employeeController.save()}" />
                            <h:commandButton value="Cancel" action=#{employeeController.cancel()} immediate="true" />
                        </div>
                    </div>
                </h:form>
            </ui:define>
        </ui:composition>

    </h:body>
</html>